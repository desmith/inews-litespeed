"use strict";var Charitable=window.Charitable||{};Charitable.Admin=Charitable.Admin||{},Charitable.Admin.Builder=Charitable.Admin.Builder||{},Charitable.Admin.Builder.CharitableChoicesJS=Charitable.Admin.Builder.CharitableChoicesJS||function(e,a,$){const n={setup:function(e,a,i){a.searchEnabled=!0,a.searchChoices=null===i.nonce,a.renderChoiceLimit=-1,a.noChoicesText=charitable_builder.no_pages_found,a.noResultsText=charitable_builder.no_pages_found;const t=new Choices(e,a);return null===i.nonce||(t.input.element.addEventListener("keyup",(function(e){8!==e.which&&46!==e.which||e.target.value.length>0||n.performSearch(t,"",i)})),t.passedElement.element.addEventListener("search",_.debounce((function(e){0!==t.input.element.value.length&&n.performSearch(t,e.detail.value,i)}),800))),t},performSearch:function(e,a,i){if(!i.action||!i.nonce)return;n.displayLoading(e);n.ajaxSearchPages(i.action,a,i.nonce).done((function(a){e.setChoices(a.data,"value","label",!0)}))},displayLoading:function(e){e.setChoices([{value:"",label:`${charitable_builder.loading}...`,disabled:!0}],"value","label",!0)},ajaxSearchPages:function(e,a,n){return $.get(charitable_builder.ajax_url,{action:e,search:a,_wpnonce:n}).fail((function(e){console.error(e)}))}};return n}(document,window,jQuery);